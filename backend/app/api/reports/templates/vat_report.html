<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <style>
    body {
      font-family: "DejaVu Sans", "Arial", sans-serif;
      margin: 0;
      padding: 30px;
      color: #1f2933;
      background: #ffffff;
    }

    h1 {
      text-align: center;
      font-size: 24px;
      margin-bottom: 4px;
    }

    h2 {
      font-size: 16px;
      margin: 0;
      margin-bottom: 4px;
    }

    .section {
      margin-top: 24px;
    }

    .small {
      font-size: 12px;
      color: #4b5563;
    }

    .key-value {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }

    .key-value td {
      padding: 4px 0;
    }

    .key {
      width: 220px;
      font-weight: 600;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }

    .table th,
    .table td {
      border: 1px solid #d1d5db;
      padding: 8px;
      font-size: 12px;
      text-align: left;
      vertical-align: top;
    }

    .table th {
      background: #f3f4f6;
      font-weight: 600;
    }

    .footer {
      margin-top: 24px;
      font-size: 11px;
      color: #475569;
      text-align: right;
    }
  </style>
</head>

<body>
  <h1>VAT Report</h1>
  <div class="section">
    <div class="small">Period: {{ report.vat_period or "-" }}</div>
    <h2>Company Details</h2>
    <table class="key-value">
      <tr>
        <td class="key">Company Legal Name</td>
        <td>{{ report.company_details.vat_legal_name_english or "-" }}</td>
      </tr>
      <tr>
        <td class="key">Company Legal Name Arabic</td>
        <td>{{ report.company_details.vat_legal_name_arabic or "-" }}</td>
      </tr>
      <tr>
        <td class="key">VAT TRN Number</td>
        <td>{{ report.company_details.vat_tax_registration_number or "-" }}</td>
      </tr>
      <tr>
        <td class="key">Standard Rated Sales</td>
        <td>{{ report.standard_rated_sales or "0" }}</td>
      </tr>
      <tr>
        <td class="key">Standard Rated Expenses</td>
        <td>{{ report.standard_rated_expense or "0" }}</td>
      </tr>
      <tr>
        <td class="key">VAT on Standard Sales</td>
        <td>{{ report.total_vat_output or "0" }}</td>
      </tr>
      <tr>
        <td class="key">VAT on Standard Expenses</td>
        <td>{{ report.total_vat_input or "0" }}</td>
      </tr>
      <tr>
        <td class="key">NET VAT Payable</td>
        <td>{{ report.total_vat_to_pay or "0" }}</td>
      </tr>
    </table>
  </div>

  <div class="section">
    <h2>Expenses</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Invoice Number</th>
          <th>Invoice Date</th>
          <th>Vendor Name</th>
          <th>TRN VAT Number</th>
          <th>Before Tax</th>
          <th>Tax</th>
          <th>Tax %</th>
          <th>Total</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {% for invoice in report.expense_invoices or [] %}
        <tr>
          <td>{{ invoice.invoice_number or "-" }}</td>
          <td>{{ invoice.invoice_date or "-" }}</td>
          <td>{{ invoice.vendor_name or "-" }}</td>
          <td>{{ invoice.trn_vat_number or "-" }}</td>
          <td>{{ invoice.before_tax_amount or "0" }}</td>
          <td>{{ invoice.tax_amount or "0" }}</td>
          <td>5%</td>
          <td>{{ invoice.total or "0" }}</td>
          <td>{{ invoice.remarks or "" }}</td>
        </tr>
        {% endfor %}
        {% if not report.expense_invoices %}
        <tr>
          <td colspan="9" style="text-align:center;">No expenses recorded</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2>Sales</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Invoice Number</th>
          <th>Invoice Date</th>
          <th>Customer Name</th>
          <th>Customer TRN</th>
          <th>Before Tax</th>
          <th>Tax</th>
          <th>Tax %</th>
          <th>Total</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        {% for invoice in report.sales_invoices or [] %}
        <tr>
          <td>{{ invoice.invoice_number or "-" }}</td>
          <td>{{ invoice.invoice_date or "-" }}</td>
          <td>{{ invoice.vendor_name or "-" }}</td>
          <td>{{ invoice.trn_vat_number or "-" }}</td>
          <td>{{ invoice.before_tax_amount or "0" }}</td>
          <td>{{ invoice.tax_amount or "0" }}</td>
          <td>5%</td>
          <td>{{ invoice.total or "0" }}</td>
          <td>{{ invoice.remarks or "" }}</td>
        </tr>
        {% endfor %}
        {% if not report.sales_invoices %}
        <tr>
          <td colspan="9" style="text-align:center;">No sales recorded</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>

  <div class="footer">
    Generated on {{ report.generated_at or "" }}
  </div>
</body>

</html>
